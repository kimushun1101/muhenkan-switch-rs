# UX監査: CLI前提の改善箇所

muhenkan-switch はGUIデスクトップアプリであり、ターミナル操作を前提としない設計が望ましい。
以下は CLI/開発者視点で作られており、一般ユーザーにとって分かりにくい箇所のリスト。

## 高優先度

### 1. トレイメニュー・GUIに「kanata」が露出
- **箇所**: `tray.rs` (メニュー項目), `index.html` (ステータス表示)
- **問題**: kanata はユーザーに意識させない内部実装。「kanata を開始」等はユーザーに無意味
- **改善案**: 「キーボード機能」「キーボード: 有効/無効」等に置き換え

### 2. エラーメッセージが技術的すぎる
- **箇所**: `kanata.rs` (バイナリ/設定ファイル未検出, pid 表示)
- **問題**: 「バイナリが見つかりません」「pid: 12345」は一般ユーザーに無意味
- **改善案**: 「キーボード機能の起動に失敗しました。再インストールしてください。」等

### 3. Linux uinput 設定がターミナルコマンド前提
- **箇所**: `kanata.rs` (UINPUT_GUIDE), `README.md`, `install.sh`
- **問題**: sudo, groupadd, udev ルール等のコマンドを手動実行させている
- **改善案**: pkexec で GUI 認証ダイアログ経由の自動設定 → **本ブランチで対応中**

### 4. README のインストール手順がターミナル前提
- **箇所**: `README.md` (curl | sh, PowerShell 実行)
- **問題**: curl パイプや PATH の概念は一般ユーザーに馴染みがない
- **改善案**: GUI インストーラーの提供、「ダウンロードして実行」に簡略化

## 中優先度

### 5. トレイに「config.toml を開く」がある
- **箇所**: `tray.rs:32`
- **問題**: TOML ファイルの手動編集を促している
- **改善案**: GUI 設定で完結させ、メニューを「設定ファイルを開く（上級者向け）」に変更 or 削除

### 6. ヘルプが Windows 専用の記述
- **箇所**: `help.html` (update.bat, uninstall.bat のみ記載)
- **問題**: Linux/macOS ユーザーには該当しない
- **改善案**: プラットフォーム検出して適切な手順を表示、または GUI ボタン化

### 7. 「ターミナルを再起動」の案内
- **箇所**: `README.md`, `install.sh`, `install.ps1`
- **問題**: 「ターミナル」「PATH」は技術用語
- **改善案**: 「パソコンを再起動してください」、または自動反映

## 低優先度

### 8. 英語エラーメッセージの混在
- **箇所**: `commands.rs:220` — `"Cannot determine install directory"`
- **改善案**: 日本語に統一

---

*このファイルは Ubuntu 対応作業中の UX 監査メモです。Issue 化して順次対応を推奨。*
